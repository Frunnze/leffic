_format_version: "3.0"


services:
  - name: content-management-service
    url: http://content-management-service:8000
    plugins:
      - name: jwt
    routes:
      - name: content-route
        paths: ["/api/content"]
        strip_path: true

  - name: file-processor-service
    url: http://file-processor-service:8000
    routes:
      - name: files-route
        paths: ["/api/files"]
        strip_path: true

  - name: scheduler-service
    url: http://scheduler-service:8000
    routes:
      - name: scheduler-route
        paths: ["/api/scheduler"]
        strip_path: true

  - name: user-service
    url: http://user-service:8000
    plugins: []
    routes:
      - name: user-route
        paths: ["/api/user"]
        strip_path: true

consumers:
  - username: api-user  # Consumer username
    jwt_secrets:
      - key: "my-issuer"
        secret: "my-secret"
        algorithm: HS256